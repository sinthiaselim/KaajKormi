{% extends 'base.html' %}

{% block content %}
<div class="dashboard-header">
    <h2>Incoming Requests</h2>
</div>

{% if incoming_requests %}
<div class="grid-layout">
    {% for req in incoming_requests %}
    <div class="card">
        <div class="card-title">{{ req.customer_name }}</div>
        <div class="card-meta">
            {{ req.address }} <br>
            {{ req.phone }}
        </div>
        <div style="margin: 1rem 0; font-size: 0.875rem; color: var(--text-muted);">
            Requested on: {{ req.request_date }}
        </div>
        <div style="display: flex; gap: 0.5rem;">
            <a href="{{ url_for('update_request', request_id=req.id, status='accepted') }}" class="btn btn-success"
                style="flex: 1; text-align: center;">Accept</a>
            <a href="{{ url_for('update_request', request_id=req.id, status='rejected') }}" class="btn btn-danger"
                style="flex: 1; text-align: center;">Reject</a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="text-muted">No pending requests.</p>
{% endif %}
{% endblock %}